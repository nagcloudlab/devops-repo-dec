{"uid":"8811cf40e8006b0a","name":"shouldEnforceLayeredArchitecture","historyId":"com.upi.architecture.ArchitectureTest:com.upi.architecture.ArchitectureTest#shouldEnforceLayeredArchitecture","time":{"duration":136},"status":"failed","statusMessage":"Architecture Violation [Priority: MEDIUM] - Rule 'Layered architecture considering all dependencies, consisting of\nlayer 'Controller' ('..controller..')\nlayer 'Service' ('..service..')\nlayer 'Repository' ('..repository..')\nlayer 'Entity' ('..entity..')\nlayer 'DTO' ('..dto..')\nlayer 'Exception' ('..exception..')\nwhere layer 'Controller' may not be accessed by any layer\nwhere layer 'Service' may only be accessed by layers ['Controller', 'Service']\nwhere layer 'Repository' may only be accessed by layers ['Service']\nwhere layer 'Entity' may only be accessed by layers ['Service', 'Repository']\nwhere layer 'DTO' may only be accessed by layers ['Controller', 'Service', 'Exception']' was violated (6 times):\nConstructor <com.upi.dto.TransferResponse.<init>(java.lang.String, com.upi.entity.Transaction$TransactionStatus, java.lang.String)> has parameter of type <com.upi.entity.Transaction$TransactionStatus> in (TransferResponse.java:0)\nField <com.upi.dto.TransferResponse.status> has type <com.upi.entity.Transaction$TransactionStatus> in (TransferResponse.java:0)\nMethod <com.upi.controller.TransferController.getTransactionHistory(java.lang.String)> has generic return type <org.springframework.http.ResponseEntity<java.util.List<com.upi.entity.Transaction>>> with type argument depending on <com.upi.entity.Transaction> in (TransferController.java:0)\nMethod <com.upi.dto.TransferResponse$TransferResponseBuilder.status(com.upi.entity.Transaction$TransactionStatus)> has parameter of type <com.upi.entity.Transaction$TransactionStatus> in (TransferResponse.java:0)\nMethod <com.upi.dto.TransferResponse.getStatus()> has return type <com.upi.entity.Transaction$TransactionStatus> in (TransferResponse.java:0)\nMethod <com.upi.dto.TransferResponse.setStatus(com.upi.entity.Transaction$TransactionStatus)> has parameter of type <com.upi.entity.Transaction$TransactionStatus> in (TransferResponse.java:0)","statusTrace":"java.lang.AssertionError: \nArchitecture Violation [Priority: MEDIUM] - Rule 'Layered architecture considering all dependencies, consisting of\nlayer 'Controller' ('..controller..')\nlayer 'Service' ('..service..')\nlayer 'Repository' ('..repository..')\nlayer 'Entity' ('..entity..')\nlayer 'DTO' ('..dto..')\nlayer 'Exception' ('..exception..')\nwhere layer 'Controller' may not be accessed by any layer\nwhere layer 'Service' may only be accessed by layers ['Controller', 'Service']\nwhere layer 'Repository' may only be accessed by layers ['Service']\nwhere layer 'Entity' may only be accessed by layers ['Service', 'Repository']\nwhere layer 'DTO' may only be accessed by layers ['Controller', 'Service', 'Exception']' was violated (6 times):\nConstructor <com.upi.dto.TransferResponse.<init>(java.lang.String, com.upi.entity.Transaction$TransactionStatus, java.lang.String)> has parameter of type <com.upi.entity.Transaction$TransactionStatus> in (TransferResponse.java:0)\nField <com.upi.dto.TransferResponse.status> has type <com.upi.entity.Transaction$TransactionStatus> in (TransferResponse.java:0)\nMethod <com.upi.controller.TransferController.getTransactionHistory(java.lang.String)> has generic return type <org.springframework.http.ResponseEntity<java.util.List<com.upi.entity.Transaction>>> with type argument depending on <com.upi.entity.Transaction> in (TransferController.java:0)\nMethod <com.upi.dto.TransferResponse$TransferResponseBuilder.status(com.upi.entity.Transaction$TransactionStatus)> has parameter of type <com.upi.entity.Transaction$TransactionStatus> in (TransferResponse.java:0)\nMethod <com.upi.dto.TransferResponse.getStatus()> has return type <com.upi.entity.Transaction$TransactionStatus> in (TransferResponse.java:0)\nMethod <com.upi.dto.TransferResponse.setStatus(com.upi.entity.Transaction$TransactionStatus)> has parameter of type <com.upi.entity.Transaction$TransactionStatus> in (TransferResponse.java:0)\n\tat com.tngtech.archunit.lang.ArchRule$Assertions.assertNoViolation(ArchRule.java:94)\n\tat com.tngtech.archunit.lang.ArchRule$Assertions.check(ArchRule.java:86)\n\tat com.tngtech.archunit.library.Architectures$LayeredArchitecture.check(Architectures.java:347)\n\tat com.upi.architecture.ArchitectureTest.shouldEnforceLayeredArchitecture(ArchitectureTest.java:65)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:569)\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"steps":[],"attachments":[{"uid":"5953370ff35cf948","name":"System out","source":"5953370ff35cf948.txt","type":"text/plain","size":6693}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"resultFormat","value":"junit"},{"name":"suite","value":"com.upi.architecture.ArchitectureTest"},{"name":"testClass","value":"com.upi.architecture.ArchitectureTest"},{"name":"package","value":"com.upi.architecture.ArchitectureTest"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"8811cf40e8006b0a.json","parameterValues":[]}